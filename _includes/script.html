{% if page.layout == "post" %}
<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/glightbox/3.2.0/js/glightbox.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    anchors.add("article h1");

    const img = document.querySelectorAll("article img");
    img.forEach((el) => {
      const anchorWrapper = document.createElement("a");

      anchorWrapper.setAttribute("href", el.currentSrc);
      anchorWrapper.setAttribute("class", "glightbox");

      anchorWrapper.appendChild(el.cloneNode(true));

      el.parentNode.replaceChild(anchorWrapper, el);
    });

    const anchor = document.getElementsByClassName("glightbox");
    let ligthbox;
    if (anchor.length != 0) {
      ligthbox = GLightbox();
    }
  });
</script>
{% endif %}
